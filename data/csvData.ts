import { Household, FloorDetail } from '../types';

// Full dataset provided
export const CSV_DATA = `
211320000001,1,BURADA MANGANNA,BURADA RAMINAIDU,C1,7702048386,356159908697,1-1-1/A,1,37,10,RCC,,,,,,,327,332,0
211320000002,3,YENUGUTHALA SRIRAM MURTHY,YENUGUTHALA SATYAM,C1,8186958188,904596089979,1-1-3/A,1,32,10,RCC,,,,,,,201,0,0
211320000003,5,JADDU RAMANA,JADDU PAPINAIDU,C1,9618921283,,1-1-5/A,1,36,9,RCC,,,,,,,227,0,0
211320000004,2,KELLA SURYANARAYANA,KELLA SURYUDU,C1,7569622763,,1-1-2/A,1,31,9,TILE ROOF,,,,,,,180,0,0
211320000005,4,YENUGUTHALA SANTAMMA,YENUGUTHALA SATYANNARAYANA,C1,8886842326,219194127924,1-1-4/A,1,32,10,TILE ROOF,,,,,,,227,0,0
211320000006,6,JADDU JANARDHANA,JADDU SIMHACHALAM,C1,7702743511,734419476304,1-1-6/A,1,35,10,RCC,,,,,,,228,218,0
211320000007,7,JADDU SURYANARAYANA,JADDU APPAYYA,C1,8309537015,639435727971,1-1-7/A,1,36,9,RCC,,,,,,,212,0,0
211320000008,8,JADDU SATYAM,JADDU APPALANAIDU,C1,9963116480,496891310004,1-1-8/A,1,36,8,TILE ROOF,,,,,,,187,179,0
211320000009,9,JADDU MANGARAJU,JADDU CHINNAPPAYYA,C1,9866930960,723080409111,1-1-9/A,1,37,10,RCC,,,,,,,241,232,0
211320000010,10,YENUGUTHALA RAMACHANDRAYYA,YENUGUTHALA RAMASWAMI,C1,8886842326,,1-1-10/A,1,37,9,TILE ROOF,,,,,,,218,207,0
211320000011,11,JADDU JAGADISWARRAO,JADDU SIMMINAIDU,C1,9849870023,741869236786,1-1-11/A,1,35,14,TILE ROOF,,,,,,,319,304,0
211320000012,12,JADDU SRINIVASARAO,JADDU SURYANARAYANA,C1,8639754816,856274267722,1-1-12/A,1,26,16,RCC,,,,,,,269,258,0
211320000013,13,YENUGUTHALA TAATA,YENUGUTHALA APPAYYA,C1,7013938512,384887995672,1-1-13/A,1,26,10,RCC,,,,,,,170,161,0
211320000014,14,KELLA SUREEDU,KELLA RAMAKRISHNA,C1,9948797793,767468531697,1-1-14/A,1,26,9,RCC,,,,,,,153,144,0
211320000015,15,CHADUVULA BHADRAVENI,CHADUVULA SURYARAO,C1,9949109337,528936102185,1-1-15/A,1,26,10,RCC,,,,,,,170,161,0
211320000016,16,SUMALA VIJAYALAKSHMI,SUMALA JAGANNADAM,C1,9908709216,698765136497,1-1-16/A,1,31,12,RCC,,,,,,,242,232,0
211320000017,17,SASUBILLI MEENAMMA,SASUBILLI ELLAMNAIDU,C1,9505575524,433978241926,1-1-17/A,1,52,10,RCC,,,,,,,338,322,0
211320000018,18,SASUBILLI KUMARI,SASUBILLI SURYANARAYANA,C1,7893750427,216351773589,1-1-18/A,1,52,10,RCC,,,,,,,338,322,0
211320000019,19,SASUBILLI VIJAYALAXMI,SASUBILLI RAMANA,C1,9963943877,540664073661,1-1-19/A,1,39,12,RCC,,,,,,,304,291,0
211320000020,20,SASUBILLI ELLAYYA,SASUBILLI SUBBINAIDU,C1,9505575824,275984503640,1-1-20/A,1,39,12,RCC,,,,,,,304,291,0
211320000021,21,MAJJI SRIRAMMURTHY,MAJJI SATYAM,C1,8099118434,934230236544,1-1-21/A,1,34,8,TILE ROOF,,,,,,,153,144,0
211320000022,22,MAJJI CHINNAPPAMMA,MAJJI LAXMUNAIDU,C1,8106356198,465402627363,1-1-22/A,1,34,11,TILE ROOF,,,,,,,211,198,0
211320000023,23,MAJJI PRASAD,MAJJI GURUSWAMI,C1,9059574708,917459489773,1-1-23/A,1,34,7,TILE ROOF,,,,,,,136,127,0
211320000024,24,MAJJI SURYANARAYANA,MAJJI SURAYYA,C1,8984965138,892780049450,1-1-24/A,1,34,7,TILE ROOF,,,,,,,136,0,0
211320000025,25,MAJJI APPALASURAMMA,MAJJI TAVUDU,C1,8217631861,551095822716,1-1-25/A,1,39,8,RCC,,,,,,,212,201,0
211320000026,26,MAJJI RAMULAMMA,MAJJI SURAPNAIDU,C1,8790902386,975481252223,1-1-26/A,1,34,8,RCC,,,,,,,185,177,0
211320000027,27,MAJJI SURYANARAYANA,MAJJI BAGAYYA,C1,9000141831,892780049450,1-1-27/A,1,34,9,TILE ROOF,,,,,,,172,0,0
211320000028,28,JADDU APPALANARASAMMA,JADDU GOURINAIDU,C1,8096337139,696663167275,1-1-28/A,1,39,9,RCC,,,,,,,239,227,0
211320000029,29,JADDU DURGAMMA,JADDU KRISHNAM NAIDU,C1,7702211633,731460579494,1-1-29/A,1,39,9,RCC,,,,,,,239,0,0
211320000030,30,POGIRI SATYANNARAYANAMMA,POGIRI SURAPNAIDU,C1,7569641010,977381294317,1-1-30/A,1,33,10,TILE ROOF,,,,,,,185,0,0
211320000031,31,MERUGULA RAMALAKSHMI,MERUGULA LAKSHMANA,C1,9014029954,312123936867,1-1-31/A,1,39,7,TILE ROOF,,,,,,,154,147,0
211320000032,32,JADDU SATYAM,JADDU RAMINAIDU,C1,9908927080,496891310004,1-1-32/A,1,29,10,TILE ROOF,,,,,,,164,0,0
211320000033,33,MAJJI LAKSHMI,MAJJI CHINNA,C1,8106585240,303433138317,1-1-33/A,1,34,10,TILE ROOF,,,,,,,192,181,0
211320000034,34,PEDDINTI SATYANARAYANA,PEDDINTI APPALA SURI,C1,7569690344,447987737635,1-1-34/A,1,39,12,TILE ROOF,,,,,,,264,250,0
211320000035,35,CHADUVULA KRISHNAVENI,MANIBHUSHANRAO,c1,,591207647749,1-1-35/A,1,33,13,TILE ROOF,,,,,,,241,229,0
211320000036,36,JAMBAVANTHULA KOTARI,JAMBAVANTHULA NEELAYYA,C1,9542092980,320662909538,1-1-36/A,1,40,15,RCC,,,,,,,407,388,0
211320000037,37,JAMBAVANTHULA LAKSHMI,JAMBAVANTHULA SURESH,C1,7569521353,373480784998,1-1-37/A,1,40,12,RCC,,,,,,,313,0,0
211320000038,38,JAMBAVANTHULA SHANKAR RAO,JAMBAVANTHULA DURGA,C1,9705577610,603560703579,1-1-38/A,1,40,12,RCC,,,,,,,313,0,0
211320000039,35,CHADUVULA KRISHNAVENI,LANKA SEETARAM,C1,809637747,364991821070,1-1-39/A,1,42,13,RCC,,,,,,,372,353,0
211320000040,40,CHADUVULA RAMANAMURTHY,CHADUVULA SURYARAO,C2,8374443030,712558444127,1-2-40/A,1,42,14,RCC,,,,,,,402,0,0
211320000041,41,PEDDINTI KRISHNA,PEDDINTI APPALASURI,C2,9963383823,794177351560,1-2-1/A,1,40,10,RCC,,,,,,,272,0,0
211320000042,42,PEDDINTI SATYANARAYANA,PEDDINTI APPALASAURI,C2,7569690344,636430196996,1-2-2/A,1,40,10,RCC,,,,,,,272,0,0
211320000043,43,PEDDINTI VEERANNA,PEDDINTI KAMANNA,C2,9573178231,677842252078,1-2-3/A,1,20,10,RCC,,,,,,,137,0,0
211320000044,44,PATRUNI NAGAMANI,PATRUNI SATYAM,C2,9963446898,821729977321,1-2-4/A,1,21,12,RCC,,,,,,,171,0,0
211320000045,45,PEDDINTI BRAMMHAM,PEDDINTI APPALASURI,C2,9866026641,490601905285,1-2-5/A,1,21,10,RCC,,,,,,,142,0,0
211320000046,46,PEDDINTI BRAMMHAM,PEDDINTI APPALASURI,C2,9866026641,490601905285,1-2-6/A,1,21,10,RCC,,,,,,,142,0,0
`;

const parseCSVData = (): Household[] => {
  const lines = CSV_DATA.trim().split('\n');
  const households: Household[] = [];

  lines.forEach(line => {
    const cols = line.split(',').map(c => c.trim());
    if (cols.length < 5) return;

    const assessmentNo = cols[0];
    const oldAssessmentNo = cols[1];
    const ownerName = cols[2];
    const parentName = cols[3];
    const clusterNo = cols[4];
    const phoneNo = cols[5];
    const aadhaarNo = cols[6];
    const hNo = cols[7];
    const noOfFloors = parseInt(cols[8]) || 1;

    const floors: FloorDetail[] = [];
    if (cols[9] && cols[10]) floors.push({ floorNo: 1, length: parseInt(cols[9]) || 0, width: parseInt(cols[10]) || 0, houseType: cols[11] || '' });
    if (cols[12] && cols[13]) floors.push({ floorNo: 2, length: parseInt(cols[12]) || 0, width: parseInt(cols[13]) || 0, houseType: cols[14] || '' });
    if (cols[15] && cols[16]) floors.push({ floorNo: 3, length: parseInt(cols[15]) || 0, width: parseInt(cols[16]) || 0, houseType: cols[17] || '' });

    const tax25_26 = parseInt(cols[18]) || 0;
    const tax24_25 = parseInt(cols[19]) || 0;
    const tax23_24 = parseInt(cols[20]) || 0;
    const totalTax = tax25_26 + tax24_25 + tax23_24;
    
    // Check for collected columns if they exist (cols 21, 22, 23)
    const collected25_26 = parseInt(cols[21]) || 0;
    const collected24_25 = parseInt(cols[22]) || 0;
    const collected23_24 = parseInt(cols[23]) || 0;
    const taxCollected = collected25_26 + collected24_25 + collected23_24;

    households.push({
        assessmentNo, oldAssessmentNo, ownerName, parentName, clusterNo, phoneNo, aadhaarNo, hNo, noOfFloors,
        totalLength: floors[0]?.length || 0, totalWidth: floors[0]?.width || 0,
        tax2023_24: tax23_24, tax2024_25: tax24_25, tax2025_26: tax25_26,
        totalTax, taxCollected, floors,
        
        // Dynamic Fields from CSV with defaults
        natureOfProperty: cols[24] || 'Residential',
        natureOfLandUse: cols[25] || 'Dwelling',
        natureOfUsage: cols[26] || 'Self Occupied',
        natureOfOwnership: cols[27] || 'Private',
        modeOfAcquisition: cols[28] || 'Inheritance',
        boundaryEast: cols[29] || 'Existing Road',
        boundaryWest: cols[30] || 'Neighbor Property',
        boundaryNorth: cols[31] || 'Neighbor Property',
        boundarySouth: cols[32] || 'Empty Plot'
    });
  });

  return households;
};

export const HOUSEHOLDS = parseCSVData();
